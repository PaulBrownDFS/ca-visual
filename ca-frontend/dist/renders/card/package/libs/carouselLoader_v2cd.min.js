function renderContent(e){var t=amp.inlineContent(e)[0];console.log("CTS",t.slides),t.slides.length>dfs.HPSlider.maxSlides&&(t.slides.length=dfs.HPSlider.maxSlides),t.spec={roiPrices:dfs.HPSlider.isROI,testDate:t.testDate},t&&renderCarousel(t)}function renderCarousel(e){var t=Handlebars.template(AmpCa.templates.bannerMulti);document.querySelectorAll(".js_banner_wrap")[0].innerHTML=t(e)}function showErrorMessage(e){console.log("Delivery API Request Failure",e),$(document.body).append('<div class="error">An error occurred retrieving your content.<br/><br/>Please ensure that it is published.<br/><br/>Details of the error have been saved to the browser console.</div>')}if(!dfs)var dfs={};dfs.HPSlider={visualID:$(".js_banner_wrap").data("visualid"),isROI:$(".js_banner_wrap").data("roi"),maxSlides:$(".js_banner_wrap").data("maxslides")||5};var cacheBuster=Math.random().toString(36).substr(2,12),dfsSliderID=dfs.HPSlider.visualID;console.log("Fetching: contentID:",dfsSliderID);var masterDeliveryUrl='//c1.adis.ws/cms/content/query?fullBodyObject=true&query=%7B"sys.iri"%3A"http%3A%2F%2Fcontent.cms.amplience.com%2F'+dfsSliderID+'"%7D&scope=tree&store=dfs&cacheBuster='+cacheBuster;if($.ajax({url:masterDeliveryUrl}).done(function(e){console.log("Ajax Request Data Fetch : Done",dfsSliderID),renderContent(e)}).fail(function(){console.log("Failed To Get Master ID Data"),showErrorMessage()}).always(function(){console.log("AJAX Has Completed",dfsSliderID)}),!dfs)var dfs={};dfs.countdownv2={timerID:[],isMobile:function(){return window.location.origin.indexOf("https://m.dfs")>-1},init:function(){document.getElementsByClassName("countdown_v2").length&&this.addCountdown()},convertDate:function(e){var t=e.split(" "),n=t[0].split("/"),s=n[1]+"/"+n[0]+"/"+n[2];return void 0!=t[1]&&(s+=" "+t[1]),new Date(s)},updateTestDate:function(e){var t=new Date;return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e},timeRemaining:function(e,t){if(t instanceof Date){t=dfs.countdownv2.updateTestDate(t);var n=new Date(t)}else var n=new Date;var s=Date.parse(e)-n,a=Math.floor(s/1e3%60),r=Math.floor(s/1e3/60%60),o=Math.floor(s/36e5%24);return{total:s,days:Math.floor(s/864e5),hours:o,minutes:r,seconds:a}},checkDateRange:function(e,t,n){var s=Date.parse(e),a=Date.parse(t);if(n instanceof Date){n=dfs.countdownv2.updateTestDate(n);var r=Date.parse(new Date(n))}else var r=Date.parse(new Date);return r>s&&r<a},addCountdown:function(){$("div.countdown_v2").each(function(e,t){var n=this,s=$(n).data(),a=s.startdays,r=s.deadline;if(s.testdate)var o=dfs.countdownv2.convertDate(s.testdate);else var o="";dfs.countdownv2.timerID[e]=setInterval(function(){for(var t in s)if(t.indexOf("daterange")>-1&&""!==s[t]){var d=s[t].split(","),i=dfs.countdownv2.convertDate(d[0].trim()),l=dfs.countdownv2.convertDate(d[1].trim());l.setHours(23,59,59);var c=d[2].trim(),u=d[3].trim();dfs.countdownv2.checkDateRange(i,l,o)&&($(n).children("h6.cdHeader").html(c),$(n).children("h6.cdFooter").html(u))}var f=dfs.countdownv2.convertDate(r),v=dfs.countdownv2.timeRemaining(f,o);if(a>=v.days){var p='<p><span class="cdDays">'+v.days+'</span> Days</p><p><span class="cdHours">'+v.hours+'</span> Hours</p><p><span class="cdMinutes">'+v.minutes+'</span> Minutes</p><p><span class="seconds">'+v.seconds+'</span> Seconds</p><div class="clearfix"></div>';v.days<0&&(dfs.countdownv2.stopTimer(e),$(n).css("display","none")),$(n).children("section").html(p),0!=v.days||dfs.countdownv2.isMobile()||$(n).next("div").css("display","block")}else $(n).children("section").html("")},1e3)})},stopTimer:function(e){clearInterval(this.timerID[e])},previewDate:function(e){$(".countdown_v2").each(function(t){$(this).data().testdate=e,console.log("TimerID:"+t,"Showing new date: "+e),clearInterval(dfs.countdownv2.timerID[t])}),this.init()}},dfs.updateElement=function(){$("#myCarousel").length&&($("#myCarousel").carousel({interval:6e3}),$("#myCarousel").carousel("pause"),clearInterval(PollElement),console.log("Carousel Ready and Initiated : "+PollElement),dfs.countdownv2.init())};var PollElement=setInterval(dfs.updateElement,500);