<div class="carouselContainer">
    <div id="myCarousel" class="carousel slide" data-ride="carousel" data-isroi="{{spec.roiPrices}}">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        {{#each slides}}
          <li data-target="#myCarousel" data-slide-to="{{@index}}" {{#if @first}} class="active"{{/if}}></li>
        {{/each}}
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner">
        {{#each slides}}
          <div class="item {{#if @first}} active {{/if}}" data-roi="{{../spec.roiPrices}}">
            <a href="{{productURL}}">
              <picture>
                <!-- WebP -->
                <source type="image/webp" media="(max-width: 1023px)"  srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=600,462]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if mobileMImageCrop}}{{mobileMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=800&ecrop=100,0,100,0&h=384&anchor=tl&top=78{{else}}w=600&h=384&anchor=tl&top=78{{/if}}]&layer2=[/i/dfs/{{mobileSidebarImage.name}}&w=600&sat=20]{{#if sideBarCharOnMobile }}&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{mobileCharacterCrop}}&{{mobileCharacterSize}}&bottom={{sideBarCBottomMob}}&left={{sideBarCLeftMob}}&anchor=bl]{{/if}}&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&w=240{{#if pricingImageCrop}}&{{pricingImageCrop}}{{/if}}&anchor=br&right=0&bottom=30]&qlt=90&fmt.jpeg.chroma=1,1,1&fmt.jpeg.interlaced=true&fmt=webp">

                <source type="image/webp" media="(max-width: 1365px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1024,488]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&anchor=l&&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%&sat=25&hue=-4&bri=1]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom={{sideBarCBottom}}&left={{sideBarCLeft}}&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]{{#if EspotImage.name}}&layer5=[src=/i/dfs/{{EspotImage.name}}&anchor=tr&right={{EspotImage_right}}&top={{EspotImage_top}}]{{/if}}&fmt.jpeg.chroma=1,1,1&w=1024&qlt=80&fmt.jpeg.interlaced=true&fmt=webp">

                <source type="image/webp" media="(min-width: 1366px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1366,619]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&h=619&anchor=l&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%&sat=25&hue=-4&bri=1]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom={{sideBarCBottom}}&left={{sideBarCLeft}}&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]{{#if EspotImage.name}}&layer5=[src=/i/dfs/{{EspotImage.name}}&anchor=tr&right={{EspotImage_right}}&top={{EspotImage_top}}]{{/if}}&qlt=80&fmt.jpeg.chroma=1,1,1&w=1366&fmt.jpeg.interlaced=true&fmt=webp">

                <!-- Jpg -->
                <source media="(max-width: 1023px)"  srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=600,462]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if mobileMImageCrop}}{{mobileMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=800&ecrop=100,0,100,0&h=384&anchor=tl&top=78{{else}}w=600&h=384&anchor=tl&top=78{{/if}}]&layer2=[/i/dfs/{{mobileSidebarImage.name}}&w=600&sat=20]{{#if sideBarCharOnMobile }}&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{mobileCharacterCrop}}&{{mobileCharacterSize}}&bottom={{sideBarCBottomMob}}&left={{sideBarCLeftMob}}&anchor=bl]{{/if}}&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&w=240{{#if pricingImageCrop}}&{{pricingImageCrop}}{{/if}}&anchor=br&right=0&bottom=30]&qlt=90&fmt.jpeg.chroma=1,1,1">

                <source media="(max-width: 1365px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1024,488]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&anchor=l&&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%&sat=25&hue=-4&bri=1]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom={{sideBarCBottom}}&left={{sideBarCLeft}}&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]{{#if EspotImage.name}}&layer5=[src=/i/dfs/{{EspotImage.name}}&anchor=tr&right={{EspotImage_right}}&top={{EspotImage_top}}]{{/if}}&fmt.jpeg.chroma=1,1,1&w=1024&qlt=80">

                <img src="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1366,619]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&h=619&anchor=l&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%&sat=25&hue=-4&bri=1]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom={{sideBarCBottom}}&left={{sideBarCLeft}}&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]{{#if EspotImage.name}}&layer5=[src=/i/dfs/{{EspotImage.name}}&anchor=tr&right={{EspotImage_right}}&top={{EspotImage_top}}]{{/if}}&qlt=80&fmt.jpeg.chroma=1,1,1&w=1366">
              </picture>
              <div class="bannerTextContainer {{#if hasCountdown}} carCountdown {{/if}}"
                  data-countdown="{{countdownDeadline}}"
                  data-testdate="{{../spec.testDate}}"
                  data-messageid="slide_{{inc @index}}"
                  data-startdays="{{daysBeforeEnd}}"
                  data-messagec="{{messagec}}"
                  data-messaged="{{messaged}}"
                  data-tv1="{{textVariance1}}"
                  data-tv2="{{textVariance2}}"
                  data-tv3="{{textVariance3}}"
                  data-tv4="{{textVariance4}}">
                  <div class="bannerTextWrapper">
                    <h2 class="message{{inc @index}}a">{{messagea}}</h2>
                    <h2 class="message{{inc @index}}b">{{messageb}}</h2>
                    <p class="message{{inc @index}}c"></p>
                    <p class="message{{inc @index}}d"></p>
                  </div>
              </div>
            </a>
          </div>
        {{/each}}
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" data-slide="prev">
        <span></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" data-slide="next">
        <span></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  {{#if spec.roiPrices }}
  <div class="roi">Showing ROI Carousel</div>
  {{else}}
  <div class="uk">Showing UK Carousel </div>
  {{/if}}
  <style>
  .uk, .roi {
    text-align: center;
    font-size: 14px;
    padding: 20px;
  }
  .bannerTextContainer.carCountdown {
    display: table;
  }
  .bannerTextWrapper{
    display: table-cell;
    vertical-align: middle;
  }
  .bannerTextWrapper h2.cdText span {
    margin: 0 1px;
    font-size: 15px !important;
  }
  {{#each slides}}
  .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
    bottom: {{textBottomPositionL}}px;
    left:{{textLeftPositionL}}px;
  }
  h2.message{{inc @index}}a {
    color:#{{#if textAColour}}{{textAColour}}{{else}}000000{{/if}} !important;
    font-size:{{#if textAFontSize}}{{textAFontSize}}{{else}}16{{/if}}px !important;
    line-height:{{#if textAFontSize}}{{textAFontSize}}{{else}}16{{/if}}px !important;
  }
  h2.message{{inc @index}}b {
    color:#{{#if textBColour}}{{textBColour}}{{else}}000000{{/if}} !important;
    font-size:{{#if textBFontSize}}{{textBFontSize}}{{else}}16{{/if}}px !important;
    line-height:{{#if textBFontSize}}{{textBFontSize}}{{else}}16{{/if}}px !important;
  }
  p.message{{inc @index}}c {
    color:#{{#if textCColour}}{{textCColour}}{{else}}000000{{/if}} !important;
    font-size:{{#if textCFontSize}}{{textCFontSize}}{{else}}14{{/if}}px !important;
    line-height:{{#if textCFontSize}}{{textCFontSize}}{{else}}14{{/if}}px !important;
    margin-top:5px;
    margin-bottom:0;
  }
  p.message{{inc @index}}d {
    color:#{{#if textDColour}}{{textDColour}}{{else}}000000{{/if}} !important;
    font-size:{{#if textDFontSize}}{{textDFontSize}}{{else}}14{{/if}}px !important;
    line-height:{{#if textDFontSize}}{{textDFontSize}}{{else}}14{{/if}}px !important;
    margin:0;
  }
  @media (max-width: 1365px) {

    .bannerTextWrapper h2.cdText span {
      margin: 0 1px;
      font-size: 15px !important;
    }
    .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
      bottom: {{textBottomPositionM}}px;
      left:{{textLeftPositionM}}px;
    }
    h2.message{{inc @index}}a {
      color:#{{#if textAColour}}{{textAColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if textAFontSize}}{{math textAFontSize "-" 2}}{{else}}14{{/if}}px !important;
      line-height:{{#if textAFontSize}}{{math textAFontSize "-" 2}}{{else}}14{{/if}}px !important;
    }
    h2.message{{inc @index}}b {
      color:#{{#if textBColour}}{{textBColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if textBFontSize}}{{math textBFontSize "-" 2}}{{else}}14{{/if}}px !important;
      line-height:{{#if textBFontSize}}{{math textBFontSize "-" 2}}{{else}}14{{/if}}px !important;
    }
    p.message{{inc @index}}c {
      color:#{{#if textCColour}}{{textCColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if textCFontSize}}{{math textCFontSize "-" 2}}{{else}}12{{/if}}px !important;
      line-height:{{#if textCFontSize}}{{math textCFontSize "-" 2}}{{else}}12{{/if}}px !important;
      margin-top:3px;
    }
    p.message{{inc @index}}d {
      color:#{{#if textDColour}}{{textDColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if textDFontSize}}{{math textDFontSize "-" 2}}{{else}}12{{/if}}px !important;
      line-height:{{#if textDFontSize}}{{math textDFontSize "-" 2}}{{else}}12{{/if}}px !important;
    }
  }
  @media (max-width: 1023px) {
    .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
      bottom: {{textBottomPositionS}}px;
      left:{{textLeftPositionS}}px;
    }
    h2.message{{inc @index}}a {
        color:#{{#if textAColour}}{{textAColour}}{{else}}000000{{/if}} !important;
      font-size:{{mobileTextAFontSize}}px !important;
      line-height:{{mobileTextAFontSize}}px !important;
    }
    h2.message{{inc @index}}b {
      color:#{{#if textBColour}}{{textBColour}}{{else}}000000{{/if}} !important;
      font-size:{{mobileTextBFontSize}}px !important;
      line-height:{{mobileTextBFontSize}}px !important;
    }
    p.message{{inc @index}}c {
      color:#{{#if textCColour}}{{textCColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if mobileTextBFontSize}}{{math mobileTextBFontSize "-" 4}}{{else}}12{{/if}}px !important;
      line-height:{{#if mobileTextBFontSize}}{{math tmobileTextBFontSize "-" 4}}{{else}}12{{/if}}px !important;
      margin-top:5px;
      display:none;
    }
    p.message{{inc @index}}d {
      color:#{{#if textDColour}}{{textDColour}}{{else}}000000{{/if}} !important;
      font-size:{{#if mobileTextBFontSize}}{{math mobileTextBFontSize "-" 4}}{{else}}12{{/if}}px !important;
      line-height:{{#if mobileTextBFontSize}}{{math tmobileTextBFontSize "-" 4}}{{else}}12{{/if}}px !important;
      display:none;
    }
  }
  {{/each}}

  </style>
