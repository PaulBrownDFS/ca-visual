"undefined"!=typeof Template7?(Template7.registerHelper("escapeUrl",function(e){return!e||e.length<1?"":encodeURIComponent(e)}),Template7.registerHelper("dynamicTemplate",function(e,r,t){e===!1&&(e=t["@type"]),r?t.renderTypes=r:r=t.renderTypes;var n,a=e.substring(e.lastIndexOf("/")+1,e.length);for(var i in r)if(a===r[i]){n=Template7.partials[i].length?Template7.partials[i]:Template7.template(Template7.partials[i]);break}return n?new Template7.SafeString(n(t)):"Template matching id: "+e+" not found"}),Template7.registerHelper("bannerConfig",function(e){hex=this.bannerColor||"#fff",alpha=this.bannerOpacity||1,hex=hex.replace("#","");var r=parseInt(3==hex.length?hex.slice(0,1).repeat(2):hex.slice(0,2),16),t=parseInt(3==hex.length?hex.slice(1,2).repeat(2):hex.slice(2,4),16),n=parseInt(3==hex.length?hex.slice(2,3).repeat(2):hex.slice(4,6),16);return alpha?"background-color:rgba("+r+", "+t+", "+n+", "+alpha+"); ":"background-color:rgb("+r+", "+t+", "+n+"); "}),Template7.registerHelper("roundelConfig",function(e){if(e&&e[0]&&e[0].roundel&&e[0].roundel.name){var r="";switch(e[0].roundelPosition){case"Bottom Right":r="p1_img=";break;case"Bottom Left":r="p2_img=";break;case"Top Left":r="p3_img=";break;case"Top Right":r="p4_img="}var t=e[0].roundelRatio;return r+e[0].roundel.name+(t?"&roundelRatio="+t:"")}return""}),Template7.registerHelper("splitBlock",function(e,r){if(void 0===r)return"";var t=parseInt(e,10),n=r.split("/");return 0===t?"amp-ca-size-"+n[0]:"amp-ca-size-"+n[1]}),Template7.registerHelper("iff",function(e,r,t,n){var a=!1;switch(r){case"==":a=e==t;break;case">":a=e>t;break;case"<":a=e<t;break;default:throw"Unknown operator "+r}return a?n.fn(this):n.inverse(this)}),Template7.registerHelper("roundelProperties",function(e){return this.roundel&&this.roundel[0]&&this.roundel[0].roundel&&this.roundel[0].roundelPosition&&this.roundel[0].roundelRatio?e.fn(this):e.inverse(this)}),Template7.registerHelper("showdown",function(e){if("undefined"==typeof showdown)return"Showdown text fromatting plugin is not initialized";var r=new showdown.Converter({noHeaderId:!0,simpleLineBreaks:!0}),e=r.makeHtml(e);return void 0===e&&(e=""),new Template7.SafeString(r.makeHtml(e))}),Template7.registerHelper("ampCaVideo",function(){var e=" data-is-firefox=";e+=+!!(window.navigator.userAgent.indexOf("Firefox")>=0);var r='<script type="text/plain" class="video-settings"'+e+" ></script>";return new Template7.SafeString(r)}),Template7.registerHelper("times",function(e,r){for(var t="",n=0;n<e;++n)r.data.index=n,r.data.first=0===n,r.data.last=n===e-1,t+=r.fn(this);return t}),Template7.registerHelper("inc",function(e,r){return parseInt(e)+1})):console.warn("Template7 is not defined, please make sure you included Template7 library");