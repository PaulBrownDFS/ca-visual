<div class="carouselContainer">
    <div id="dfsCarousel" class="carousel slide" data-ride="carousel" data-isroi="{{spec.roiPrices}}">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        {{#each slides}}
          <li data-target="#dfsCarousel" data-slide-to="{{@index}}" {{#if @first}} class="active"{{/if}}></li>
        {{/each}}
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner">
        {{#each slides}}
          <div class="item {{#if @first}} active {{/if}}" data-roi="{{../spec.roiPrices}}">
            <a href="{{productURL}}">
              <picture>
                <!-- WebP -->
                <source type="image/webp" media="(max-width: 1023px)"  srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=600,462]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if mobileMImageCrop}}{{mobileMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=800&ecrop=100,0,100,0&h=384&anchor=tl&top=78{{else}}w=600&h=384&anchor=tl&top=78{{/if}}]&layer2=[/i/dfs/{{mobileSidebarImage.name}}&w=600]{{#if sideBarCharOnMobile }}&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{mobileCharacterCrop}}&{{mobileCharacterSize}}&bottom={{sideBarCBottomMob}}&left={{sideBarCLeftMob}}&anchor=bl]{{/if}}&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&w=240{{#if pricingImageCrop}}&{{pricingImageCrop}}{{/if}}&anchor=br&right=0&bottom=30]&qlt=90&fmt.jpeg.chroma=1,1,1&fmt.jpeg.interlaced=true&fmt=webp">


                <!-- Jpg -->
                <source media="(max-width: 1023px)"  srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=600,462]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if mobileMImageCrop}}{{mobileMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=800&ecrop=100,0,100,0&h=384&anchor=tl&top=78{{else}}w=600&h=384&anchor=tl&top=78{{/if}}]&layer2=[/i/dfs/{{mobileSidebarImage.name}}&w=600]{{#if sideBarCharOnMobile }}&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{mobileCharacterCrop}}&{{mobileCharacterSize}}&bottom={{sideBarCBottomMob}}&left={{sideBarCLeftMob}}&anchor=bl]{{/if}}&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&w=240{{#if pricingImageCrop}}&{{pricingImageCrop}}{{/if}}&anchor=br&right=0&bottom=30]&qlt=90&fmt.jpeg.chroma=1,1,1">



                <img src="//images.dfs.co.uk/i/dfs/?layer0=[canvas=600,462]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if mobileMImageCrop}}{{mobileMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=800&ecrop=100,0,100,0&h=384&anchor=tl&top=78{{else}}w=600&h=384&anchor=tl&top=78{{/if}}]&layer2=[/i/dfs/{{mobileSidebarImage.name}}&w=600]{{#if sideBarCharOnMobile }}&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{mobileCharacterCrop}}&{{mobileCharacterSize}}&bottom={{sideBarCBottomMob}}&left={{sideBarCLeftMob}}&anchor=bl]{{/if}}&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&w=240{{#if pricingImageCrop}}&{{pricingImageCrop}}{{/if}}&anchor=br&right=0&bottom=30]&qlt=90&fmt.jpeg.chroma=1,1,1">

              </picture>
              <div class="bannerTextContainer {{#if hasCountdown}} carCountdown {{/if}}"
                  data-countdown="{{countdownDeadline}}"
                  data-testdate="{{../spec.testDate}}"
                  data-messageid="slide_{{inc @index}}"
                  data-startdays="{{daysBeforeEnd}}"
                  data-messagec="{{messagec}}"
                  data-messaged="{{messaged}}"
                  data-tv1="{{textVariance1}}"
                  data-tv2="{{textVariance2}}"
                  data-tv3="{{textVariance3}}"
                  data-tv4="{{textVariance4}}">
                  <div class="bannerTextWrapper">
                    <h2 class="message{{inc @index}}a">{{messagea}}</h2>
                    <h2 class="message{{inc @index}}b">{{messageb}}</h2>
                    <p class="message{{inc @index}}c">{{messagec}}</p>
                    <p class="message{{inc @index}}d">{{messaged}}</p>
                  </div>
              </div>
            </a>
          </div>
        {{/each}}
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#dfsCarousel" data-slide="prev">
        <span></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#dfsCarousel" data-slide="next">
        <span></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <style>
  .uk, .roi {
    text-align: center;
    font-size: 14px;
    padding: 20px;
  }
  .bannerTextContainer.carCountdown {
    display: table;
  }
  .bannerTextWrapper{
    display: table-cell;
    vertical-align: middle;
  }
  {{#each slides}}
  .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
    bottom: {{textBottomPositionS}}px;
    left:{{textLeftPositionS}}px;
  }
  h2.message{{inc @index}}a {
    color:#{{textAColour}};
    font-size:{{textAFontSize}}px !important;
    line-height:{{textAFontSize}}px !important;
  }
  h2.message{{inc @index}}b {
    color:#{{textBColour}};
    font-size:{{textBFontSize}}px !important;
    line-height:{{textBFontSize}}px !important;
  }
  p.message{{inc @index}}c {
    color:#{{textCColour}};
    font-size:{{textCFontSize}}px !important;
    line-height:{{textCFontSize}}px !important;
    margin-top:5px;
    display:none;
  }
  p.message{{inc @index}}d {
    color:#{{textDColour}};
    font-size:{{textDFontSize}}px !important;
    line-height:{{textDFontSize}}px !important;
    display:none;
  }

  {{/each}}

  </style>
