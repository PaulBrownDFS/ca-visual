<div class="carouselContainer">
    <div id="dfsCarousel" class="carousel slide" data-ride="carousel" data-isroi="{{spec.roiPrices}}">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        {{#each slides}}
          <li data-target="#dfsCarousel" data-slide-to="{{@index}}" {{#if @first}} class="active"{{/if}}></li>
        {{/each}}
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner">
        {{#each slides}}
          <div class="item {{#if @first}} active {{/if}}" data-roi="{{../spec.roiPrices}}">
            <a href="{{productURL}}">
              <picture>
                <!-- WebP -->

                <source type="image/webp" media="(max-width: 1365px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1024,488]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&anchor=l&&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom=0&left=30&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]&fmt.jpeg.chroma=1,1,1&w=1024&qlt=80&fmt.jpeg.interlaced=true&fmt=webp">

                <source type="image/webp" media="(min-width: 1366px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1366,619]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&h=619&anchor=l&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom=0&left=30&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]&qlt=80&fmt.jpeg.chroma=1,1,1&w=1366&fmt.jpeg.interlaced=true&fmt=webp">

                <!-- Jpg -->

                <source media="(max-width: 1365px)" srcset="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1024,488]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&anchor=l&&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom=0&left=30&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]&fmt.jpeg.chroma=1,1,1&w=1024&qlt=80">

                <img src="//images.dfs.co.uk/i/dfs/?layer0=[canvas=1366,619]&layer1=[src=/i/dfs/{{productImage.name}}&{{#if desktopMImageCrop}}{{desktopMImageCrop}}&{{/if}}{{#if productImageFullWidth}}w=1366&h=619&anchor=l&left=0{{else}}w=1024&h=619&anchor=l&left=342{{/if}}]&layer2=[/i/dfs/{{image.name}}&left=0&h=100%]&layer3=[/i/dfs/{{sidebarCharacter.name}}&{{desktopCharacterCrop}}&{{desktopCharacterSize}}&bottom=0&left=30&anchor=bl]&layer4=[src=/i/dfs/{{#if ../spec.roiPrices }}ROI_{{/if}}{{pricingImage.name}}&anchor=br&right=24&bottom=24]&qlt=80&fmt.jpeg.chroma=1,1,1&w=1366">
              </picture>
              <div class="bannerTextContainer {{#if hasCountdown}} carCountdown {{/if}}"
                  data-countdown="{{countdownDeadline}}"
                  data-testdate="{{../spec.testDate}}"
                  data-messageid="slide_{{inc @index}}"
                  data-startdays="{{daysBeforeEnd}}"
                  data-messagec="{{messagec}}"
                  data-messaged="{{messaged}}"
                  data-tv1="{{textVariance1}}"
                  data-tv2="{{textVariance2}}"
                  data-tv3="{{textVariance3}}"
                  data-tv4="{{textVariance4}}">
                  <div class="bannerTextWrapper">
                    <h2 class="message{{inc @index}}a">{{messagea}}</h2>
                    <h2 class="message{{inc @index}}b">{{messageb}}</h2>
                    <p class="message{{inc @index}}c">{{messagec}}</p>
                    <p class="message{{inc @index}}d">{{messaged}}</p>
                  </div>
              </div>
            </a>
          </div>
        {{/each}}
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#dfsCarousel" data-slide="prev">
        <span></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#dfsCarousel" data-slide="next">
        <span></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <style>
  .uk, .roi {
    text-align: center;
    font-size: 14px;
    padding: 20px;
  }
  .bannerTextContainer.carCountdown {
    display: table;
  }
  .bannerTextWrapper{
    display: table-cell;
    vertical-align: middle;
  }
  {{#each slides}}
  .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
    bottom: {{textBottomPositionL}}px;
    left:{{textLeftPositionL}}px;
  }
  h2.message{{inc @index}}a {
    color:#{{textAColour}};
    font-size:{{textAFontSize}}px !important;
    line-height:{{textAFontSize}}px !important;
  }
  h2.message{{inc @index}}b {
    color:#{{textBColour}};
    font-size:{{textBFontSize}}px !important;
    line-height:{{textBFontSize}}px !important;
  }
  p.message{{inc @index}}c {
    color:#{{textCColour}};
    font-size:{{textCFontSize}}px !important;
    line-height:{{textCFontSize}}px !important;
    margin-top:5px;
  }
  p.message{{inc @index}}d {
    color:#{{textDColour}};
    font-size:{{textDFontSize}}px !important;
    line-height:{{textDFontSize}}px !important;
  }
  @media (max-width: 1365px) {
    .bannerTextContainer[data-messageid="slide_{{inc @index}}"] {
      bottom: {{textBottomPositionM}}px;
      left:{{textLeftPositionM}}px;
    }
    h2.message{{inc @index}}a {
      color:#{{textAColour}};
      font-size:{{math textAFontSize "-" 2}}px !important;
      line-height:{{math textAFontSize "-" 2}}px !important;
    }
    h2.message{{inc @index}}b {
      color:#{{textBColour}};
      font-size:{{math textBFontSize "-" 2}}px !important;
      line-height:{{math textBFontSize "-" 2}}px !important;
    }
    p.message{{inc @index}}c {
      color:#{{textCColour}};
      font-size:{{math textCFontSize "-" 1}}px !important;
      line-height:{{math textCFontSize "-" 1}}px !important;
      margin-top:3px;
    }
    p.message{{inc @index}}d {
      color:#{{textDColour}};
      font-size:{{math textDFontSize "-" 1}}px !important;
      line-height:{{math textDFontSize "-" 1}}px !important;
    }
  }

  }
  {{/each}}

  </style>
